<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>&Uumlbersicht Kurse</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="http://localhost:3000/files/choices.js"></script>
    <script src="http://localhost:3000/files/menu.js"></script>
</head>
<body>
<div id="menu"></div>
<div class="container" id="edit course">
    <div id="choice"></div>
    <div class="row">
        <hr>
        <div class="form-group md-6">
            <h3>Themen</h3>
            <div id="themes"></div>
        </div>
        <hr>
        <div class="form-group md-6">
            <h3>Tests</h3>
            <div id="tests"></div>
        </div>

    </div>
</div>
</body>
<style>

</style>
<script>
        $changeMethodBody = function (coursename) {
            $.get("http://localhost:3000/themes/?coursename=\"" + coursename + "\"", function (themes) {
                var unorderedList = "<ul class=\"list-group\">";
                for (var themePos in themes) {
                    //get alle files from this theme
                    unorderedList += "<li class=\"list-group-item\" id='file" + themePos + "'>" + themes[themePos].themename + "</li>";
                }
                unorderedList += "</ul>";
                $("#themes").html(unorderedList);
                for (var themePos in themes) {
                    $updateFileLinks(coursename, themes[themePos].themename,themePos);
                }
            });

            $.get("http://localhost:3000/test/student/?coursename=\"" + coursename + "\"", function (tests) {
                $("#tests").html(tests);
            });
        }
        $updateFileLinks = function (coursename, themename,fileId) {
            $.get("http://localhost:3000/files/?coursename=\"" + coursename + "\"&themename=\""
                + themename + "\"", function (files) {
                if (files.length > 0) {
                    var fileList = themename + "<ul class=\"list-group\">";
                    for (var filePos in files) {
                        //get alle files from this theme
                        var filename = files[filePos].filename;
                        fileList +=
                            "<li class=\"list-group-item\">" +
                            "<a href=\"http://localhost:3000/files/" + filename + "\">" + filename + "</a>" +
                            "</li>";
                    }
                    fileList += "</ul>";
                    var id = "#file" + fileId;
                    $(id).html(fileList);
                }
            });
        }
</script>
</html>